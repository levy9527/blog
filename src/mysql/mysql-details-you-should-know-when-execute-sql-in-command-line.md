---
date: 2023-08-19
tag:
- Daily
- MySQL
---

# MySQL å‘½ä»¤è¡Œæ‰§è¡ŒSQLçš„ç»†èŠ‚
## èƒŒæ™¯
ç»è¿‡è°ƒè¯•ä¸éªŒè¯ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿¡è‡ªå·±ç¼–å†™çš„SQLæ˜¯æ­£ç¡®çš„ï¼Œæ˜¯æ—¶å€™åˆ°ç›®æ ‡åº“æ‰§è¡ŒSQLäº†ï¼

ä½†è¦å°å¿ƒï¼Œåœ¨æ­£å¼ç¯å¢ƒä¸­æ‰§è¡Œ SQLï¼Œä¹Ÿè®¸ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„å‘ï¼
## ç¯å¢ƒè¯´æ˜
å…ˆè¯´æ˜ä¸‹æˆ‘ä»¬çš„ç¯å¢ƒä¿¡æ¯ã€‚
![](https://raw.githubusercontent.com/levy9527/image-holder/main/md-image-kit/1692321838318-b353f14d-13d0-432e-a05b-9fbcd3c1dd1f.jpeg)
æˆ‘ä»¬åªèƒ½é€šè¿‡è·³æ¿æœºçš„ç»ˆç«¯è¿æ¥ mysqlã€æ‰§è¡ŒSQLï¼Œæ²¡æœ‰DBeaverã€Navicatç­‰å·¥å…·å¯ç”¨ã€‚

åˆ™æˆ‘ä»¬æ‰§è¡ŒSQLè¯­å¥çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š

1. æ‰§è¡Œå¯¼å‡ºçš„SQLè¯­å¥æ–‡ä»¶
2. å¤åˆ¶ç²˜è´´SQLè¯­å¥æ‰§è¡Œ

å½“ç„¶ï¼Œåœ¨æ‰§è¡Œå‰ï¼Œæˆ‘ä»¬è¦ç¡®ä¿å·²è¿›è¡Œäº†æ•°æ®å¤‡ä»½ã€‚
## æ‰§è¡ŒSQLæ–‡ä»¶
æ‰§è¡ŒSQLæ–‡ä»¶æ˜¯æœ€ç®€å•çš„ï¼Œä¸€èˆ¬å®è·µä¹Ÿæ˜¯åœ¨å‘½ä»¤è¡Œæ‰¹é‡æ‰§è¡ŒSQLæ–‡ä»¶ã€‚

ç›¸å…³çš„å‘½ä»¤ä¸æ¢å¤å¤‡ä»½çš„å‘½ä»¤ä¸€è‡´ï¼š
```sql
mysql -h your-ip -u your-username -p${password} your-database <  script.sql
```

è¿™æ˜¯æ¨èçš„æ–¹å¼ï¼Œå› ä¸ºæ‰§è¡Œè¯­å¥ä¸€æ—¦å‡ºé”™ï¼Œå°±ä¼šåœä¸‹ï¼Œå¹¶å‘ŠçŸ¥æ˜¯ç¬¬å‡ è¡Œçš„è¯­å¥å‡ºé”™ã€‚

ä½†å‡ºäºæŸäº›åŸå› ï¼Œä½ å¯èƒ½ä¸æƒ³æŠŠæ‰€æœ‰SQLè¯­å¥éƒ½åˆå¹¶åˆ°ä¸€ä¸ª script.sql æ–‡ä»¶ä¸­ã€‚
å¦å¤–ï¼Œä¸Šä¼ æ–‡ä»¶åˆ°è·³æ¿æœºï¼Œå¯èƒ½ä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼Œäºæ˜¯ï¼Œä½ æƒ³é‡‡ç”¨ç¬¬äºŒç§æ–¹å¼ã€‚
## å¤åˆ¶ç²˜è´´æ‰§è¡Œ
é€šè¿‡ mysql å®¢æˆ·ç«¯ç›´æ¥ä¸Š MySQL åï¼Œåœ¨å‘½ä»¤ä¸Šæ‰§è¡Œ SQL è¯­å¥ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼šé”™è¯¯çš„è¯­å¥ä¸ä¼šä¸­æ–­åç»­çš„æ‰§è¡Œã€‚

æ›´å¯æ€•çš„æ˜¯åœ¨å‘½ä»¤è¡Œé‡Œï¼Œå¾ˆå¯èƒ½ä½ SQLè¯­å¥åŒ…æ‹¬çš„ä¸­æ–‡å­—ç¬¦ä¸²ä¼šè¢«è¿‡æ»¤æ‰ï¼Œå˜æˆç©ºå­—ç¬¦ä¸²ã€‚å¦‚ï¼š

- 'åˆ›å»ºäºº' -> ''
- 'ä¸­è‹±enæ··æ‚' -> 'en'

è¿™çœŸæ˜¯è¡€çš„æ•™è®­ğŸ˜­ã€‚

æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹é”™è¯¯æ˜¯å¦ä¸­æ–­çš„å®éªŒã€‚

æ–°å»ºä¸€ä¸ªåªæœ‰ä¸¤è¡Œçš„SQLæ–‡ä»¶ï¼Œå…¶ä¸­ç¬¬ä¸€è¡Œè¯­å¥æ˜¯é”™è¯¯çš„ã€‚
```sql
ss;
select 1;
```
![](https://raw.githubusercontent.com/levy9527/image-holder/main/md-image-kit/1692263770642-5487130c-27ed-4e08-9e89-24755194f7ed.png)

ä½¿ç”¨å¯¼å…¥å‘½ä»¤ï¼š
```sql
mysql -h your-ip -u your-username -p${password} your-database < test.sql
```

æç¤ºç¬¬ä¸€è¡Œæœ‰é”™è¯¯ï¼Œç¬¬äºŒè¡Œæœªæ‰§è¡Œã€‚è¿™æ˜¯ç¬¦åˆæœŸæœ›çš„ã€‚
![](https://raw.githubusercontent.com/levy9527/image-holder/main/md-image-kit/1692263858957-62a01998-d47a-4fa9-b2a9-b83c5a3be764.png)

ä½†å¦‚æœè¿æ¥ mysql åï¼Œåœ¨äº¤äº’å¼å‘½ä»¤è¡Œé‡Œæ‰§è¡Œ source å‘½ä»¤ï¼š
![](https://raw.githubusercontent.com/levy9527/image-holder/main/md-image-kit/1692263665731-d9bdde27-6522-4cd3-9c82-4f5c7a0ead79.png)
é”™è¯¯å‡ºç°å¹¶ä¸ä¼šä¸­æ–­SQLçš„æ‰§è¡Œã€‚
å¤åˆ¶è¯­å¥ï¼Œç²˜è´´åˆ°å‘½ä»¤è¡Œï¼Œè¡¨ç°ä¹Ÿæ˜¯å¦‚æ­¤ï¼šé”™è¯¯åªæç¤ºï¼Œä¸ä¸­æ–­æ‰§è¡Œã€‚

é‚£ä¹ˆï¼Œèƒ½å¦åœ¨äº¤äº’å¼å‘½ä»¤è¡Œé‡Œæ‰§è¡ŒSQLè¯­å¥ï¼Œä¸€æ—¦é”™è¯¯å°±ä¸­æ–­å‘¢ï¼Ÿ

æˆ‘ä»¬åœ¨MySQLå®˜æ–¹è®ºå›é‡Œæ‰¾åˆ°äº†ç›¸å…³çš„[å¸–å­](https://bugs.mysql.com/bug.php?id=35634)ï¼š
![](https://raw.githubusercontent.com/levy9527/image-holder/main/md-image-kit/1692262908887-64d86cd8-c2e9-4b50-b341-75a28a509d94.png)

æœ€ç»ˆå¾—åˆ°çš„ç­”æ¡ˆæ˜¯ï¼Œä½¿ç”¨ï¼š\eã€‚
è¿›è¡Œç±»viç•Œé¢ï¼Œåœ¨è¿™é‡Œç²˜è´´ SQLï¼ˆè¿™é‡Œå°±ä¸ä¼šæœ‰ä¸­æ–‡è¢«è¿‡æ»¤çš„é—®é¢˜ï¼‰
![](https://raw.githubusercontent.com/levy9527/image-holder/main/md-image-kit/1692263386275-ba3e4365-f45e-435e-a269-05c5d92dfa16.png)
ä¿å­˜é€€å‡ºåï¼Œè¾“å…¥ `;`åˆ™æ‰§è¡Œ SQL è¯­å¥ï¼ŒCtrl + Cã€€åˆ™ä¸æ‰§è¡Œã€‚
![](https://raw.githubusercontent.com/levy9527/image-holder/main/md-image-kit/1692263595582-2f5a733e-ea75-47b1-b128-f76ecf7a1cda.png)
å¯ä»¥çœ‹åˆ°ï¼Œè¿™ç§æ–¹å¼æ‰§è¡Œ SQL è¯­å¥ï¼Œä¹Ÿæ˜¯å¯ä»¥é‡åˆ°é”™è¯¯å°±ä¸­æ–­çš„ã€‚
## å¦‚æœè¦åˆ é™¤é”™è¯¯çš„æ•°æ®æ€ä¹ˆåŠï¼Ÿ
å°½ç®¡ç»è¿‡æµ‹è¯•ï¼Œä½†ä¹Ÿä¸æ•¢è¯´è¯­å¥çš„æ‰§è¡Œèƒ½ç™¾åˆ†ä¹‹åˆ†æˆåŠŸï¼Œå› æ­¤ï¼Œè¿™é‡Œç»™ä¸ªæ¸©é¦¨æé†’ã€‚

å¦‚æœæ’å…¥ã€æ›´æ–°äº†é”™è¯¯çš„æ•°æ®ï¼Œç¡®å®è¦æ‰§è¡Œ DELETE è¯­å¥ï¼Œé‚£ä¹ˆè¯·åšå¥½ä»¥ä¸‹ checklist:

1. ç¡®ä¿å·²å¤‡ä»½æ•°æ®
2. åˆ é™¤å‰å…ˆæŸ¥è¯¢ï¼Œä¹Ÿå³å…ˆå†™ select fromï¼Œç¡®è®¤ä¸€ä¸‹æ˜¯ç›®æ ‡æ•°æ®ï¼Œå†æ”¹å†™æˆ select æ”¹å†™æˆ delete
3. ä¸€å®šè¦å†™ where è¯­å¥ï¼Œå¹¶ä¸”ç²¾ç¡®åˆ°ä¸»é”®ï¼Œæœ€å¥½åªå†™ç±»ä¼¼è¿™ç§è¯­å¥ where id = 1 æˆ–è€… where id in (1,2)
