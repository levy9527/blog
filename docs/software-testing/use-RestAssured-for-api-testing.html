<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä½¿ç”¨ RestAssured è¿›è¡Œ API æµ‹è¯• | Levy&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="https://avatars3.githubusercontent.com/u/39977793?s=200&amp;v=4">
    <style>img { display: block; }</style>
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-6HEW6B1S6B"></script>
    <script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config','G-6HEW6B1S6B');</script>
    <meta name="description" content="think, speak, practice, create">
    
    <link rel="preload" href="/assets/css/0.styles.ba320c78.css" as="style"><link rel="preload" href="/assets/js/app.08c15792.js" as="script"><link rel="preload" href="/assets/js/2.994b757b.js" as="script"><link rel="preload" href="/assets/js/33.74a96d5c.js" as="script"><link rel="prefetch" href="/assets/js/10.6d512f39.js"><link rel="prefetch" href="/assets/js/11.b064f293.js"><link rel="prefetch" href="/assets/js/12.8fb88a6e.js"><link rel="prefetch" href="/assets/js/13.4a8f47a9.js"><link rel="prefetch" href="/assets/js/14.8465b29d.js"><link rel="prefetch" href="/assets/js/15.9ae10b1f.js"><link rel="prefetch" href="/assets/js/16.14f0b36a.js"><link rel="prefetch" href="/assets/js/17.23453d70.js"><link rel="prefetch" href="/assets/js/18.a3c3b7ac.js"><link rel="prefetch" href="/assets/js/19.98f035be.js"><link rel="prefetch" href="/assets/js/20.15e2eed7.js"><link rel="prefetch" href="/assets/js/21.479ee68a.js"><link rel="prefetch" href="/assets/js/22.04bc3ec4.js"><link rel="prefetch" href="/assets/js/23.7a4e7a47.js"><link rel="prefetch" href="/assets/js/24.51a72458.js"><link rel="prefetch" href="/assets/js/25.fcc97933.js"><link rel="prefetch" href="/assets/js/26.6e402251.js"><link rel="prefetch" href="/assets/js/27.b36ccef4.js"><link rel="prefetch" href="/assets/js/28.44c1dcd7.js"><link rel="prefetch" href="/assets/js/29.80636ed6.js"><link rel="prefetch" href="/assets/js/3.e3604d4a.js"><link rel="prefetch" href="/assets/js/30.5d47e7ae.js"><link rel="prefetch" href="/assets/js/31.294e1cc8.js"><link rel="prefetch" href="/assets/js/32.b9041f7e.js"><link rel="prefetch" href="/assets/js/34.ef5c232c.js"><link rel="prefetch" href="/assets/js/35.1945f929.js"><link rel="prefetch" href="/assets/js/36.b84f447a.js"><link rel="prefetch" href="/assets/js/37.8f5cdd74.js"><link rel="prefetch" href="/assets/js/4.c69c5b0e.js"><link rel="prefetch" href="/assets/js/5.4dc8d661.js"><link rel="prefetch" href="/assets/js/6.a915cdfa.js"><link rel="prefetch" href="/assets/js/7.5e0d7ba4.js"><link rel="prefetch" href="/assets/js/8.960bb927.js"><link rel="prefetch" href="/assets/js/9.d05a369a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ba320c78.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Levy's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/levy9527/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/levy9527/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>è‹±è¯­å­¦ä¹ </span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/english/contemporary-college-english-1.html" class="sidebar-link">ç°ä»£å¤§å­¦è‹±è¯­ç²¾è¯»(ç¬¬2ç‰ˆ)ç¬¬ä¸€å†Œ</a></li><li><a href="/docs/english/contemporary-college-english-2.html" class="sidebar-link">ç°ä»£å¤§å­¦è‹±è¯­ç²¾è¯»(ç¬¬2ç‰ˆ)ç¬¬äºŒå†Œ</a></li><li><a href="/docs/english/contemporary-college-english-3.html" class="sidebar-link">ç°ä»£å¤§å­¦è‹±è¯­ç²¾è¯»(ç¬¬2ç‰ˆ)ç¬¬ä¸‰å†Œ</a></li><li><a href="/docs/english/contemporary-college-english-4.html" class="sidebar-link">ç°ä»£å¤§å­¦è‹±è¯­ç²¾è¯»(ç¬¬2ç‰ˆ)ç¬¬å››å†Œ</a></li><li><a href="/docs/english/contemporary-college-english-5.html" class="sidebar-link">ç°ä»£å¤§å­¦è‹±è¯­ç²¾è¯»(ç¬¬2ç‰ˆ)ç¬¬äº”å†Œ</a></li><li><a href="/docs/english/contemporary-college-english-6.html" class="sidebar-link">ç°ä»£å¤§å­¦è‹±è¯­ç²¾è¯»(ç¬¬2ç‰ˆ)ç¬¬å…­å†Œ</a></li><li><a href="/docs/english/everyone-can-learn-english-1-overview.html" class="sidebar-link">äººäººéƒ½èƒ½å­¦ä¼šçš„è‹±è¯­1ï¼šå¼€ç¯‡</a></li><li><a href="/docs/english/everyone-can-learn-english-2-pronunciation.html" class="sidebar-link">äººäººéƒ½èƒ½å­¦ä¼šçš„è‹±è¯­2ï¼šéŸ³æ ‡</a></li><li><a href="/docs/english/everyone-can-learn-english-3-words.html" class="sidebar-link">äººäººéƒ½èƒ½å­¦ä¼šçš„è‹±è¯­3ï¼šå•è¯</a></li><li><a href="/docs/english/everyone-can-learn-english-4-listening-and-speaking.html" class="sidebar-link">äººäººéƒ½èƒ½å­¦ä¼šçš„è‹±è¯­4ï¼šå¬è¯´</a></li><li><a href="/docs/english/everyone-can-learn-english-5-reading-and-writing.html" class="sidebar-link">äººäººéƒ½èƒ½å­¦ä¼šçš„è‹±è¯­5ï¼šè¯»å†™</a></li><li><a href="/docs/english/how-to-self-evaluate-english-level.html" class="sidebar-link">è‹±æ–‡èƒ½åŠ›è¯„æµ‹æ‰‹æŠŠæ‰‹æ•™å­¦</a></li><li><a href="/docs/english/learning-7000-words-task-completed.html" class="sidebar-link">å®Œæˆåˆ·7kå•è¯ä»»åŠ¡</a></li><li><a href="/docs/english/let-chatgpt-be-your-foreign-language-teacher.html" class="sidebar-link">è®© ChatGPT æˆä¸ºä½ çš„å¤–è¯­ç§æ•™</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å‰ç«¯æŠ€æœ¯</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/frontend/old-articles.html" class="sidebar-link">æ—§æ–‡ç« ç²¾é€‰</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Gitç›¸å…³</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/git/git-best-pratices.html" class="sidebar-link">Gitæœ€ä½³å®è·µ</a></li><li><a href="/docs/git/git-definitive-guide-to-merge-code.html" class="sidebar-link">Gitä»£ç åˆå¹¶æŒ‡å—</a></li><li><a href="/docs/git/git-useful-commands.html" class="sidebar-link">Gitå¸¸ç”¨å‘½ä»¤</a></li><li><a href="/docs/git/gitlab-ci.html" class="sidebar-link">Gitlab CI</a></li><li><a href="/docs/git/rethinking-git-flow.html" class="sidebar-link">å†è®ºGit Flow</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>è½¯ä»¶æµ‹è¯•</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/software-testing/use-RestAssured-for-api-testing.html" aria-current="page" class="active sidebar-link">ä½¿ç”¨ RestAssured è¿›è¡Œ API æµ‹è¯•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/software-testing/use-RestAssured-for-api-testing.html#å‰è¨€" class="sidebar-link">å‰è¨€</a></li><li class="sidebar-sub-header"><a href="/docs/software-testing/use-RestAssured-for-api-testing.html#what" class="sidebar-link">What</a></li><li class="sidebar-sub-header"><a href="/docs/software-testing/use-RestAssured-for-api-testing.html#why" class="sidebar-link">Why</a></li><li class="sidebar-sub-header"><a href="/docs/software-testing/use-RestAssured-for-api-testing.html#ä¸ºä»€ä¹ˆä¸ç”¨postman" class="sidebar-link">ä¸ºä»€ä¹ˆä¸ç”¨Postman</a></li><li class="sidebar-sub-header"><a href="/docs/software-testing/use-RestAssured-for-api-testing.html#å®‰è£…" class="sidebar-link">å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/docs/software-testing/use-RestAssured-for-api-testing.html#å¿«é€Ÿä¸Šæ‰‹" class="sidebar-link">å¿«é€Ÿä¸Šæ‰‹</a></li><li class="sidebar-sub-header"><a href="/docs/software-testing/use-RestAssured-for-api-testing.html#é€šç”¨è®¾ç½®" class="sidebar-link">é€šç”¨è®¾ç½®</a></li><li class="sidebar-sub-header"><a href="/docs/software-testing/use-RestAssured-for-api-testing.html#è¯·æ±‚ç¤ºä¾‹" class="sidebar-link">è¯·æ±‚ç¤ºä¾‹</a></li><li class="sidebar-sub-header"><a href="/docs/software-testing/use-RestAssured-for-api-testing.html#æ¥å£ä¾èµ–" class="sidebar-link">æ¥å£ä¾èµ–</a></li><li class="sidebar-sub-header"><a href="/docs/software-testing/use-RestAssured-for-api-testing.html#ä¸Šä¼ ç¤ºä¾‹" class="sidebar-link">ä¸Šä¼ ç¤ºä¾‹</a></li><li class="sidebar-sub-header"><a href="/docs/software-testing/use-RestAssured-for-api-testing.html#ä¸‹è½½ç¤ºä¾‹" class="sidebar-link">ä¸‹è½½ç¤ºä¾‹</a></li><li class="sidebar-sub-header"><a href="/docs/software-testing/use-RestAssured-for-api-testing.html#å…¶ä»–é—®é¢˜" class="sidebar-link">å…¶ä»–é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/docs/software-testing/use-RestAssured-for-api-testing.html#å‚è€ƒèµ„æ–™" class="sidebar-link">å‚è€ƒèµ„æ–™</a></li></ul></li><li><a href="/docs/software-testing/use-cypress-for-e2e-testing.html" class="sidebar-link">ä½¿ç”¨ Cypress è¿›è¡Œç«¯å¯¹ç«¯æµ‹è¯•</a></li><li><a href="/docs/software-testing/use-playwright-for-ui-testing.html" class="sidebar-link">ä¸‹ä¸€ä»£ E2E æµ‹è¯•å·¥å…· Playwright</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å¿…å¤‡å·¥å…·</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/tools/how-to-connect-to-internet.html" class="sidebar-link">ç§‘å­¦ä¸Šç½‘</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ä½¿ç”¨-restassured-è¿›è¡Œ-api-æµ‹è¯•"><a href="#ä½¿ç”¨-restassured-è¿›è¡Œ-api-æµ‹è¯•" class="header-anchor">#</a> ä½¿ç”¨ RestAssured è¿›è¡Œ API æµ‹è¯•</h1> <h2 id="å‰è¨€"><a href="#å‰è¨€" class="header-anchor">#</a> å‰è¨€</h2> <p>æœ¬æ–‡å°†å€ŸåŠ© RestAssured å·¥å…·ï¼Œå‘å¤§å®¶ä»‹ç»å¦‚ä½•è¿›è¡Œ API æµ‹è¯•ï¼Œä»è€Œåœ¨å›¢é˜Ÿä¸­å¼€å¯æ¥å£è‡ªåŠ¨åŒ–ä¹‹è·¯ã€‚</p> <p>æœ¬æ–‡çš„ç¤ºä¾‹ä»£ç ä½¿ç”¨çš„æ˜¯ Java è¯­è¨€ã€‚å°½ç®¡æœ¬æ–‡çš„é¦–è¦è¯»è€…æ˜¯ Java ç ”å‘äººå‘˜ï¼Œä½†é“ç†æ˜¯ç›¸é€šçš„ï¼Œå…¶ä»–è¯­è¨€çš„ç ”å‘äººå‘˜ä¹Ÿèƒ½ä»ä¸­å—ç›Šã€‚</p> <h2 id="what"><a href="#what" class="header-anchor">#</a> What</h2> <p>ä»€ä¹ˆæ˜¯ API æµ‹è¯•ï¼Ÿç®€å•æ¥è¯´ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯é’ˆå¯¹ Controller å±‚çš„æµ‹è¯•ï¼Œä½†ä¸æ˜¯ Mockï¼Œè€Œæ˜¯ä¼šçœŸå®åœ°å¤„ç†è¯·æ±‚ï¼Œä¸æ•°æ®åº“æˆ–å¤–éƒ¨æœåŠ¡è¿›è¡Œäº¤äº’ã€‚</p> <h2 id="why"><a href="#why" class="header-anchor">#</a> Why</h2> <p>ä¸ºä»€ä¹ˆè¦åš API æµ‹è¯•å‘¢ï¼Ÿ</p> <p>è€ƒè™‘æœ‰è¿‡è¿™æ ·çš„åœºæ™¯ï¼š</p> <ul><li>åŠ ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œè‡ªæµ‹æ²¡é—®é¢˜ï¼Œç»“æœè¢«æµ‹è¯•äººå‘˜å‘ç°ä¸€ä¸ªæ—§æ¨¡å—å‡ºäº†é—®é¢˜ï¼Œæ„Ÿåˆ°æªæ‰‹ä¸åŠ</li> <li>åç«¯å†™å¥½äº†æ¥å£ï¼Œå‰ç«¯è¿˜æ²¡å¼€å‘å¥½ç•Œé¢ï¼Œäºæ˜¯æ„Ÿè§‰ä¸æ–¹ä¾¿è‡ªæµ‹ï¼Œå› ä¸ºæ²¡æœ‰ç•Œé¢ï¼Œåªå¥½å‚¬å‰ç«¯å¿«å»åšé¡µé¢</li></ul> <p>API æµ‹è¯•å°±æ˜¯æ¥è§£å†³ä¸Šè¿°é—®é¢˜çš„ã€‚åš API æµ‹è¯•çš„åŸå› æœ‰ï¼š</p> <ul><li>å¿…è¦æ€§ï¼šåšå›å½’æµ‹è¯•ï¼Œé¿å…æ·»åŠ æ–°åŠŸèƒ½æ—¶ç ´åæ—§åŠŸèƒ½ã€‚</li> <li>ä¾¿åˆ©æ€§ï¼šæ–¹ä¾¿æœ¬åœ°è°ƒè¯•ï¼Œä¸ç”¨éƒ¨ç½²åˆ°çº¿ä¸Šï¼Œä¾èµ–ç•Œé¢å»æµ‹è¯•ã€‚</li> <li>èµ„äº§åŒ–ï¼šè®©æµ‹è¯•ç”¨ä¾‹å˜æˆèµ„äº§ï¼Œä¸å›¢é˜Ÿå…±äº«ã€‚</li></ul> <p>å½“ç„¶ï¼Œè¦åšå¥½ API æµ‹è¯•ï¼Œè¿˜è¦æ¥å—è¿™æ ·çš„è®¤çŸ¥ï¼š æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•å¹¶ä¸ä»…ä»…æ˜¯æµ‹è¯•äººå‘˜äº‹æƒ…ï¼Œç ”å‘äººå‘˜ä¹Ÿæœ‰è´£ä»»æŠŠå®ƒåšå¥½ã€‚ å¦åˆ™ï¼Œç ”å‘äººå‘˜éš¾å…ä¼šè§‰å¾—è¿™ä¸å…³æˆ‘çš„äº‹, ä»è€Œä¸æ„¿æ„å†™è¿™ç§ä»£ç ã€‚ å»ºè®®ç ”å‘äººå‘˜ä»ä»¥ä¸‹æ–¹ä¾¿æ€è€ƒå…¶å¥½å¤„ï¼Œæå‡è¡ŒåŠ¨çš„ç§¯ææ€§ï¼š</p> <ul><li>å‡å°‘é˜»å¡ï¼Œæ¥å£è‡ªæµ‹ä¸å†ä¾èµ–å‰ç«¯</li> <li>æé«˜æ•ˆç‡ï¼Œæœ¬åœ°å°±èƒ½è‡ªæµ‹ï¼Œä¸ç”¨æŠŠåº”ç”¨éƒ¨ç½²åˆ°çº¿ä¸Šç¯å¢ƒ</li> <li>æé«˜è´¨é‡ï¼Œå‡å°‘éƒ¨ç½²åˆ°ç ”å‘ç¯å¢ƒã€å‰ç«¯ä¸€è°ƒç”¨æ¥å£å°± 500 çš„æƒ…å†µ</li></ul> <h2 id="ä¸ºä»€ä¹ˆä¸ç”¨postman"><a href="#ä¸ºä»€ä¹ˆä¸ç”¨postman" class="header-anchor">#</a> ä¸ºä»€ä¹ˆä¸ç”¨Postman</h2> <p>Postman ç¡®å®æ˜¯ç¬¦åˆç›´è§‰çš„æ¥å£è°ƒè¯•çš„ç¬¬ä¸€é€‰é¡¹ã€‚ ä½†æ³¨æ„ï¼Œè°ƒè¯•ä¸ç­‰äºæµ‹è¯•ã€‚</p> <p>Postman åœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œæœ€å¤§çš„é—®é¢˜åœ¨äºï¼Œæ— æ³•å°†æµ‹è¯•ç”¨ä¾‹æœ‰æ•ˆåœ°èµ„äº§åŒ–:</p> <ul><li>ä½ ä¼šåœ¨ Postman é‡Œå†™æ–­è¨€å—ï¼Ÿå¾ˆå°‘å§ï¼Œä½ å…¶å®æ˜¯åœ¨ç”¨è‚‰çœ¼å»æ£€æŸ¥æ¥å£æˆåŠŸä¸å¦ï¼Œè¿™æœ¬è´¨è¿˜æ˜¯æ‰‹å·¥æµ‹è¯•</li> <li>ä½ çš„ Postman æ•°æ®èƒ½ä¸å›¢é˜Ÿå…±äº«å—ï¼Ÿä¸èƒ½å§ï¼Œå¤§å¤šæ•°äººçš„ Postman æ•°æ®æ˜¯åœ¨æœ¬åœ°çš„ï¼Œä¹Ÿä¸ä¼šå»ä»˜è´¹åˆ›å»ºä¸€ä¸ªå›¢é˜Ÿä»¥å…±äº«æ•°æ®</li> <li>ä½ çš„ Postman æ•°æ®åœ¨æœ‰ç‰ˆæœ¬ç®¡ç†å—ï¼Ÿæ²¡æœ‰å§ï¼Œå¤§å¤šæ•°äººçš„ Postman æ•°æ®æ˜¯ä¸æºä»£ç åˆ†ç¦»çš„ï¼Œä¸åˆ©äºç»´æŠ¤ä¸ç®¡ç†</li></ul> <p>å¦å¤–ï¼Œå¦‚æœè¦ä¸ CI ç»“åˆï¼ŒPostman çš„æ•°æ®æ›´é€‚åˆä½¿ç”¨ Node.js çš„ <a href="https://github.com/postmanlabs/newman" target="_blank" rel="noopener noreferrer">Newman<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <p>è€ƒè™‘æºä»£ç æ˜¯ Javaï¼Œä½¿ç”¨ RestAssuredï¼Œç¼–å†™ API æµ‹è¯•ä»£ç ç”¨åŒä¸€ç§è¯­è¨€ï¼Œå¯ä»¥å‡å°‘ä½¿ç”¨è€…çš„å¿ƒæ™ºè´Ÿæ‹…è¾ƒè½»ï¼›å¹¶ä¸”ä¸æºä»£ç æ”¾åœ¨åŒä¸€ä¸ª Git ä»“åº“ä¸­ï¼Œæ˜“äºç®¡ç†ã€‚</p> <p>å› æ­¤ï¼Œæˆ‘ä»ç„¶ä¼šä½¿ç”¨ Postmanï¼Œä½†æ›´å¤šæ˜¯æŠŠå®ƒåº”ç”¨åœ¨å‡ºç°çº¿ä¸Šé—®é¢˜æ—¶ï¼Œç›´æ¥å¤åˆ¶ä¸€ä¸ª cURL ç”¨æ¥å¤ç°ã€æ’æŸ¥é—®é¢˜çš„æƒ…å†µã€‚</p> <h2 id="å®‰è£…"><a href="#å®‰è£…" class="header-anchor">#</a> å®‰è£…</h2> <p>ä¸‹é¢å°†ä»‹ç»å¦‚ä½•ç”¨ Maven å®‰è£… RestAssuredã€‚</p> <p>å¤åˆ¶ä»¥ä¸‹å†…å®¹åˆ° pom.xml å³å¯ã€‚</p> <div class="language-xml extra-class"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.rest-assured<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>rest-assured<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>json-path<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.rest-assured<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.rest-assured<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>json-path<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.rest-assured<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>xml-path<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>å®‰è£…å®Œæˆåï¼Œé‡å¯ Spring å®¹å™¨ã€‚</p> <p>å¦‚æœå®‰è£…ä¾èµ–ä¸æˆåŠŸï¼Œå¯ä»¥è¿›è¡Œä»¥ä¸‹æ£€æŸ¥ï¼š</p> <ul><li>æ˜¾å¼æŒ‡å®š json-path ä¸ xml-path çš„ç‰ˆæœ¬ï¼Œå¹¶æ’é™¤å…¶ä»–æµ‹è¯•åŒ…(å¦‚ sping-boot-starter-test) å¯¹ json-path çš„ä¾èµ–</li> <li>å£°æ˜æ”¾åœ¨ JUnit å‰é¢</li></ul> <h2 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="header-anchor">#</a> å¿«é€Ÿä¸Šæ‰‹</h2> <p>è¯­æ³•ç»“æ„ä¸ºï¼š given()ã€when()ã€then()</p> <div class="language-xml extra-class"><pre class="language-xml"><code>given()  // è®¾ç½®è¯·æ±‚ä¿¡æ¯
        .log().body() // è¾“å‡ºè¯·æ±‚æ—¥å¿—
        .when()
        .get() // å‘é€è¯·æ±‚
        .then()
        .log().body() // è¾“å‡ºå“åº”æ—¥å¿—
        .statusCode(200) // æ–­è¨€å“åº”
        ;
</code></pre></div><h2 id="é€šç”¨è®¾ç½®"><a href="#é€šç”¨è®¾ç½®" class="header-anchor">#</a> é€šç”¨è®¾ç½®</h2> <p>ä»¥ä¸‹ä»£ç å¯ç›´æ¥å¤åˆ¶åˆ° Java æµ‹è¯•ç±»ä¸­ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>private RequestSpecification requestSpec;

// @BeforeEach // JUnit5 
@Before // JUnit4
public void init(){
    // å¦‚æœæ˜¯æœ¬åœ°è°ƒè¯• domain å°±æ˜¯ localhost
    RestAssured.baseURI=&quot;http://your-domain.com:port/context-path&quot;;

    // è®¾ç½®è¯·æ±‚å¤´
    RequestSpecBuilder builder=new RequestSpecBuilder();
    // ä¹Ÿå¯ä»¥æ”¹æˆè°ƒç”¨ç™»å½•æ¥å£ï¼ŒåŠ¨æ€è·å– token
    String token=System.getenv(&quot;TOKEN&quot;);
    builder.addHeader(&quot;Authorization&quot;,token); // jwt
    // åœ¨ give().spec() ä¸­ä½¿ç”¨å³å¯
    requestSpec=builder.build();
    }

</code></pre></div><h2 id="è¯·æ±‚ç¤ºä¾‹"><a href="#è¯·æ±‚ç¤ºä¾‹" class="header-anchor">#</a> è¯·æ±‚ç¤ºä¾‹</h2> <p>ä¸‹é¢æ˜¯ä¸€ä¸ªè¾ƒå®Œæ•´çš„ç¤ºä¾‹ï¼ŒåŒ…å«äº†ï¼š</p> <ul><li>è®¾ç½®è¯·æ±‚å¤´</li> <li>è®¾ç½®è¯·æ±‚ä½“</li> <li>è®¾ç½®query</li> <li>åˆ¤æ–­å“åº”ä½“çš„æ•°æ®ç»“æ„</li></ul> <div class="language- extra-class"><pre class="language-text"><code>  @Test
public void test(){
    Workflow workflow = new Workflow();
    workflow.setWorkflowId(1643167159934930966L);
    workflow.setWorkflowName(&quot;flow&quot;);
    List&lt;Workflow&gt; body = new ArrayList&lt;&gt;();
    body.add(workflow);

    given()
    .spec(requestSpec)
    .queryParam(&quot;query&quot;,&quot;value&quot;)
    .body(JSON.toJSONString(body))
    .log().body()
    .when()
    .post(&quot;/api/v1/your-api?t=1&quot;)
    .then()
    .log().body()
    .statusCode(200)
    .assertThat().body(&quot;code&quot;,equalTo(&quot;0&quot;))
    ;
    }
</code></pre></div><p>æé†’ï¼Œåœ¨è¿è¡Œæµ‹è¯•ä»£ç å‰ï¼Œéœ€è¦åšä¸¤ä»¶äº‹ï¼š</p> <ul><li>ä¸€å®šä¿è¯ Web æœåŠ¡å·²è¯·æ±‚ï¼Œå› ä¸ºè¿™ä¸æ˜¯ Mockï¼Œè€Œæ˜¯ä¼šå‘é€çœŸå®çš„è¯·æ±‚ã€‚</li> <li>æ­£ç¡®é…ç½®äº†ç¯å¢ƒå˜é‡ TOKENã€‚å¦‚æœä½¿ç”¨ IDEAï¼Œå¯ä»¥ç¼–è¾‘è¿è¡Œé…ç½®ï¼Œåœ¨ç¯å¢ƒå˜é‡é‡Œæ³¨å…¥ç±»ä¼¼ä»£ç ï¼šTOKEN=Bearer xxx</li></ul> <h2 id="æ¥å£ä¾èµ–"><a href="#æ¥å£ä¾èµ–" class="header-anchor">#</a> æ¥å£ä¾èµ–</h2> <p>æœ‰æ—¶åœ¨è¯·æ±‚æ¥å£ B ä¹‹å‰ï¼Œéœ€è¦è¯·æ±‚æ¥å£ Aï¼Œäºæ˜¯å°±äº§ç”Ÿäº†æ¥å£ä¾èµ–ï¼šB ä¾èµ–äº† Aã€‚</p> <p>æ­¤æ—¶å¯ä»¥ä½¿ç”¨ extract() åŠ path() è·å–è¯·æ±‚ A è¿”å›çš„æ•°æ®ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>  @Test
public void test(){
    // å‘é€ç¬¬ä¸€ä¸ªè¯·æ±‚
    List&lt;Map&lt;String, String&gt;&gt;workflowList = getWorkflowList();
    if (workflowList.isEmpty()) {
      System.out.println(&quot;workflowList  empty, test not execute&quot;);
      return;
    }

    // è¿”å›çš„æ•°æ®ç»“æ„æ˜¯ä¸ª Map
    // ä¹Ÿå¯ä»¥æ˜¯ã€€Map&lt;String, Object&gt;ï¼Œè¿™å–å†³äºä½ å®é™…çš„æ•°æ®ç»“æ„
    Map&lt;String, String&gt; target = workflowList.get(0);

    WorkflowRunVO workflow = new WorkflowRunVO();
    workflow.setWorkflowId(Long.valueOf(target.get(&quot;workflowId&quot;)));
    workflow.setWorkflowName(target.get(&quot;name&quot;));
    List&lt;WorkflowRunVO&gt; body = new ArrayList&lt;&gt;();
    body.add(workflow);

    // åœ¨ç¬¬äºŒä¸ªè¯·æ±‚ä¸­æ–­è¨€
    given()
    .spec(requestSpec)
    .body(JSON.toJSONString(body))
    .log().body()
    .when()
    .post(&quot;/api/v1/workflows&quot;)
    .then()
    .statusCode(200)
    .assertThat().body(&quot;code&quot;,equalTo(&quot;0&quot;)) // org.hamcrest.Matchers.equalTo
    .log().body();
    }

private List&lt;Map&lt;String, String&gt;&gt;getWorkflowList(){
    return given()
    .spec(requestSpec)
    .when()
    .get(&quot;/api/v1/workflows&quot;)
    .then()
    .statusCode(200)
    .extract()
    .path(&quot;payload.content&quot;);
    }
</code></pre></div><h2 id="ä¸Šä¼ ç¤ºä¾‹"><a href="#ä¸Šä¼ ç¤ºä¾‹" class="header-anchor">#</a> ä¸Šä¼ ç¤ºä¾‹</h2> <p>RestAssured å¾ˆå¼ºå¤§ï¼Œè¿˜èƒ½å¤„ç†ä¸Šä¼ ä¸ä¸‹è½½çš„è¯·æ±‚ï¼Œç®€ç›´è®©äººâ€œçˆ±äº†çˆ±äº†â€ã€‚ ä¸‹é¢æ˜¯å…·ä½“çš„ç¤ºä¾‹ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>  @Test
public void upload(){
    // éœ€è¦æœ¬åœ°æœ‰æ–‡ä»¶
    File file = new File(&quot;src/test/fixtures/txt-success&quot;);

    getImportResp(file)
    .assertThat().body(&quot;code&quot;,org.hamcrest.Matchers.equalTo(&quot;0&quot;))
    .assertThat().body(&quot;payload&quot;,equalTo(true))
    ;
    }

private ValidatableResponse getImportResp(File file){
    return given()
    .spec(requestSpec)
    .multiPart(file)
    .when()
    .post(&quot;/api/v1/upload&quot;)
    .then()
    .statusCode(200);
    }
</code></pre></div><p>å¦‚æœæƒ³åœ¨ä¼ æ–‡ä»¶çš„åŸºç¡€ä¸Šï¼Œè¿˜ä¼ å…¶ä»–å‚æ•°ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>private ValidatableResponse getImportResp(File file) {
    return given()
    .spec(requestSpec)
    .multiPart(&quot;file&quot;, file, &quot;application/json&quot;)
    .multiPart(&quot;extraParam&quot;, &quot;value&quot;)
    .when()
    .post(&quot;/v1/upload&quot;)
    .then()
    .statusCode(200);
    }
</code></pre></div><p>å¯¹åº”çš„å‰ç«¯è¯·æ±‚ä»£ç ä¸º(è®°å½•ä¸€ä¸‹ï¼Œä»¥å¤‡ä¸æ—¶ä¹‹éœ€ğŸ˜ƒ)ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>import axios from 'axios';

function getImportResp(file) {
  const formData = new FormData();
  formData.append('file', file, 'application/json');
  formData.append('extraParam', 'value');

  return axios.post('/v1/upload', formData)
    .then(response =&gt; {
      return response;
    })
    .catch(error =&gt; {
      throw error;
    });
}
</code></pre></div><h2 id="ä¸‹è½½ç¤ºä¾‹"><a href="#ä¸‹è½½ç¤ºä¾‹" class="header-anchor">#</a> ä¸‹è½½ç¤ºä¾‹</h2> <div class="language- extra-class"><pre class="language-text"><code>  @Test
public void download(){
    Map&lt;String, Object&gt; license = getLicenseList().get(0);
    if(Objects.isNull(license))return;

    // å› ä¸ºè®¾ç½®çš„è¯·æ±‚å¤´è·Ÿé»˜è®¤çš„ä¸ä¸€æ ·ï¼Œæ‰€ä»¥å•ç‹¬è®¾ç½®
    RequestSpecBuilder builder = new RequestSpecBuilder();
    String token=System.getenv(&quot;TOKEN&quot;);
    builder.addQueryParam(&quot;token&quot;,token.replace(&quot;Bearer &quot;,&quot;&quot;));
    builder.addHeader(&quot;Content-Type&quot;,&quot;application/json;charset=UTF-8&quot;);
    requestSpec=builder.build();

    String result = given()
    .spec(requestSpec)
    .log().body()
    .when()
    .get(&quot;/api/v1/download/&quot;+license.get(&quot;id&quot;))
    .then()
    .statusCode(200)
    .extract()
    .response()
    .asString() //ã€€è·å–è¾“å‡ºæµæ‰“å°çš„å­—ç¬¦ä¸²
    ;

    System.out.println(result);
    Assert.assertEquals(5,result.split(&quot;\n&quot;).length);
    }
</code></pre></div><p>çœ‹åˆ°å…¨éƒ¨ç”¨ä¾‹éƒ½æ‰§è¡ŒæˆåŠŸï¼Œéå¸¸çˆ½å¿«ï¼
<img src="https://raw.gitmirror.com/levy9527/image-holder/main/docs/software-testing/resetassured-download.png" alt="resetassured-download"></p> <h2 id="å…¶ä»–é—®é¢˜"><a href="#å…¶ä»–é—®é¢˜" class="header-anchor">#</a> å…¶ä»–é—®é¢˜</h2> <h3 id="ä¸ºä»€ä¹ˆä¸ç”¨-pytest"><a href="#ä¸ºä»€ä¹ˆä¸ç”¨-pytest" class="header-anchor">#</a> ä¸ºä»€ä¹ˆä¸ç”¨ Pytest</h3> <p>å¦‚æœç¼–ç ä»£ç çš„äººå‘˜æ˜¯æµ‹è¯•äººå‘˜ï¼Œé‚£å¯èƒ½é¦–é€‰ Pytestã€‚ä½†æœ¬æ–‡é¢å‘çš„è¯»è€…çš„ Java ç ”å‘â€”â€”æ—¢å†™ APIï¼Œä¹Ÿå†™ç›¸åº”çš„æµ‹è¯•ä»£ç ã€‚æ•…é€‰å‹ç†ç”±å‚è€ƒå‰é¢ ä¸ºä»€ä¹ˆä¸ç”¨Postman çš„å›ç­”ã€‚</p> <h3 id="è¿™ä¹Ÿæ˜¯å•å…ƒæµ‹è¯•å—"><a href="#è¿™ä¹Ÿæ˜¯å•å…ƒæµ‹è¯•å—" class="header-anchor">#</a> è¿™ä¹Ÿæ˜¯å•å…ƒæµ‹è¯•å—</h3> <p>ä¸æ˜¯ã€‚è¿è¡Œä¸Šè¿°æµ‹è¯•ä»£ç ï¼Œå¦‚æœæ˜¯æµ‹è¯•æœ¬åœ°æ¥å£ï¼Œéœ€è¦å…ˆåœ¨æœ¬åœ°å¯åŠ¨ Spring å®¹å™¨ï¼›å¦‚æœæ˜¯æµ‹è¯•çº¿ä¸Šæ¥å£ï¼Œåˆ™éœ€è¦å…ˆæŠŠåº”ç”¨éƒ¨ç½²åˆ°çº¿ä¸Šã€‚å› æ­¤ï¼Œè¿™æ˜¯é›†æˆæµ‹è¯•ã€‚</p> <h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="header-anchor">#</a> å‚è€ƒèµ„æ–™</h2> <p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://github.com/rest-assured/rest-assured/wiki/Usage#examples" target="_blank" rel="noopener noreferrer">https://github.com/rest-assured/rest-assured/wiki/Usage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/docs/git/rethinking-git-flow.html" class="prev">
        å†è®ºGit Flow
      </a></span> <span class="next"><a href="/docs/software-testing/use-cypress-for-e2e-testing.html">
        ä½¿ç”¨ Cypress è¿›è¡Œç«¯å¯¹ç«¯æµ‹è¯•
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.08c15792.js" defer></script><script src="/assets/js/2.994b757b.js" defer></script><script src="/assets/js/33.74a96d5c.js" defer></script>
  </body>
</html>
