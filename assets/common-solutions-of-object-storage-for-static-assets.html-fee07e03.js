import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as n,o as d,c as m,e as s,a,b as e,d as t,f as r}from"./app-0ef89b0e.js";const p={},c=a("h1",{id:"对象存储静态资源常见操作",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#对象存储静态资源常见操作","aria-hidden":"true"},"#"),e(" 对象存储静态资源常见操作")],-1),h=a("h2",{id:"前言",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#前言","aria-hidden":"true"},"#"),e(" 前言")],-1),l=a("p",null,"把静态资源放到云厂商的对象存储服务中托管是很常见的实践，但由于涉及的事项较多，故记录下来，方便查阅。",-1),g=a("p",null,"本文主要以阿里云OSS的控制台界面作为操作示例，其逻辑同样适用于华为云OBS、Amazon S3，只是可能界面上有差异，具体需要看相关的官方文档。",-1),f=r('<h2 id="阿里云oss" tabindex="-1"><a class="header-anchor" href="#阿里云oss" aria-hidden="true">#</a> 阿里云OSS</h2><p>对于新建的bucket，需要做一些设置，才能正常使用静态资源。</p><h3 id="绑定域名" tabindex="-1"><a class="header-anchor" href="#绑定域名" aria-hidden="true">#</a> 绑定域名</h3><figure><img src="https://raw.gitmirror.com/levy9527/image-holder/main/md-image-kit/1702347742834-834879a6-3610-4b57-b0d3-73c7bcdead4e.png#averageHue=%23eaeae6&amp;clientId=u60f42bc1-4481-4&amp;from=paste&amp;height=342&amp;id=u96fb23ed&amp;originHeight=342&amp;originWidth=1808&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=302360&amp;status=done&amp;style=none&amp;taskId=u8ae79e13-fed5-4ff3-9214-5f220758b8e&amp;title=&amp;width=1808" alt="" tabindex="0"><figcaption></figcaption></figure><figure><img src="https://raw.gitmirror.com/levy9527/image-holder/main/md-image-kit/1702348155056-40bd48ea-53f8-48c1-88f4-82cc11460d80.png#averageHue=%23fdfdfd&amp;clientId=u60f42bc1-4481-4&amp;from=paste&amp;height=421&amp;id=ubf7c51d8&amp;originHeight=421&amp;originWidth=1480&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=204064&amp;status=done&amp;style=none&amp;taskId=ua9e752a5-6884-4531-8e86-ab7cad1773f&amp;title=&amp;width=1480" alt="" tabindex="0"><figcaption></figcaption></figure><p>则使用自定义域名访问，可以解决访问 html 变成下载的问题。</p><h3 id="cname设置" tabindex="-1"><a class="header-anchor" href="#cname设置" aria-hidden="true">#</a> CNAME设置</h3><p>如果绑定的是同一个阿里云账号下的域名，则可以自动添加 CNAME 记录。否则需要手动添加。</p>',8),u={href:"http://my-bucket.oss-cn-shenzhen.aliyuncs.com",target:"_blank",rel:"noopener noreferrer"},b=a("br",null,null,-1),y=a("img",{src:"https://raw.gitmirror.com/levy9527/image-holder/main/md-image-kit/1702348349732-a5a3015a-262a-4b32-b89d-593c32e56cfc.png#averageHue=%23faf9f9&clientId=u60f42bc1-4481-4&from=paste&height=662&id=u278acbcc&originHeight=662&originWidth=1590&originalType=binary&ratio=1&rotation=0&showTitle=false&size=226370&status=done&style=none&taskId=u455741d8-010a-4202-9b96-170a9d9ffb7&title=&width=1590",alt:""},null,-1),_=a("br",null,null,-1),w={href:"http://static.domain.com",target:"_blank",rel:"noopener noreferrer"},k={href:"http://my-bucket.oss-cn-shenzhen.aliyuncs.com",target:"_blank",rel:"noopener noreferrer"},T=a("h3",{id:"https证书托管",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#https证书托管","aria-hidden":"true"},"#"),e(" HTTPS证书托管")],-1),v=a("p",null,[e("上传证书，开启 HTTPS"),a("br"),a("img",{src:"https://raw.gitmirror.com/levy9527/image-holder/main/md-image-kit/1702348442889-df82e3da-e07d-451e-af99-45f40f7e789a.png#averageHue=%23e6e4e0&clientId=u60f42bc1-4481-4&from=paste&height=340&id=u94fa9d74&originHeight=340&originWidth=1586&originalType=binary&ratio=1&rotation=0&showTitle=false&size=228171&status=done&style=none&taskId=u51004980-ecd6-4be3-914a-75f0b84cec0&title=&width=1586",alt:""}),a("br"),a("img",{src:"https://raw.gitmirror.com/levy9527/image-holder/main/md-image-kit/1702348569375-f32bac2c-25ae-4b38-a2e8-3d3d5a42164c.png#averageHue=%23f4f3f3&clientId=u60f42bc1-4481-4&from=paste&height=904&id=u6ae4a65b&originHeight=904&originWidth=1607&originalType=binary&ratio=1&rotation=0&showTitle=false&size=308821&status=done&style=none&taskId=uaa66eaf6-767e-47db-92fa-fdeaeb76403&title=&width=1607",alt:""})],-1),H={href:"https://github.com/levy9527/blog/issues/5",target:"_blank",rel:"noopener noreferrer"},x=r('<h3 id="公共读" tabindex="-1"><a class="header-anchor" href="#公共读" aria-hidden="true">#</a> 公共读</h3><figure><img src="https://raw.gitmirror.com/levy9527/image-holder/main/md-image-kit/1702348615962-e6695e07-9c22-4095-876a-9ea0cd412d0d.png#averageHue=%23fcfaf9&amp;clientId=u60f42bc1-4481-4&amp;from=paste&amp;height=409&amp;id=uc420f547&amp;originHeight=409&amp;originWidth=1748&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=192573&amp;status=done&amp;style=none&amp;taskId=u78cd38c9-f1b7-4132-afc0-3bbf461b01d&amp;title=&amp;width=1748" alt="" tabindex="0"><figcaption></figcaption></figure><p>这样可以解决访问链接超时的问题。</p><h3 id="cors跨域设置" tabindex="-1"><a class="header-anchor" href="#cors跨域设置" aria-hidden="true">#</a> CORS跨域设置</h3><p>在基础设置下，找到跨域设置<br><img src="https://raw.gitmirror.com/levy9527/image-holder/main/md-image-kit/1547111265557-dd3885fc-1007-4dfe-bef9-1e70a3578f0f.png#averageHue=%23fefdfd&amp;height=116&amp;id=hyGnS&amp;originHeight=314&amp;originWidth=2022&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=747" alt=""><br><img src="https://raw.gitmirror.com/levy9527/image-holder/main/md-image-kit/1547111287199-072507c0-02d4-4cdb-8be7-0bccc13c096c.png#averageHue=%239fa69d&amp;height=159&amp;id=JDTLh&amp;originHeight=438&amp;originWidth=2058&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=747" alt=""></p><p>在来源中设置域名，或ip地址。下面给出最简单的示例为 *，实际可以根据需要填写允许的域名，一行一个。</p><ul><li>将allowed origins设置成 <code>*</code></li><li>将allowed methods设置成<code>GET, POST, PUT, DELETE, HEAD</code></li><li>将allowed headers设置成 <code>*</code></li><li>将expose headers设置成 <ul><li><code>etag</code></li><li><code>x-oss-request-id</code></li></ul></li></ul><p>这样可以解决字体无法显示、JavaScript跨域的问题。</p><h2 id="华为云obs" tabindex="-1"><a class="header-anchor" href="#华为云obs" aria-hidden="true">#</a> 华为云OBS</h2><h3 id="跨域设置" tabindex="-1"><a class="header-anchor" href="#跨域设置" aria-hidden="true">#</a> 跨域设置</h3><p>华为云的入口如下：<br><img src="https://raw.gitmirror.com/levy9527/image-holder/main/md-image-kit/1702347220980-e3545244-04d2-4435-bc87-f277a6ddbf91.png#averageHue=%23fefdfc&amp;clientId=u1ece0f42-2e8c-4&amp;from=paste&amp;height=570&amp;id=ub4d8b2f8&amp;originHeight=570&amp;originWidth=1099&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=47529&amp;status=done&amp;style=none&amp;taskId=uba2e51ff-d581-4e8c-8dcc-95be2bca9cf&amp;title=&amp;width=1099" alt=""><br> 具体规则的填写是类似阿里云OSS的。<br><img src="https://raw.gitmirror.com/levy9527/image-holder/main/md-image-kit/1702348727824-91972218-3050-4346-838e-f33b317dba14.png#averageHue=%23e7e7e7&amp;clientId=u60f42bc1-4481-4&amp;from=paste&amp;height=710&amp;id=u532a6905&amp;originHeight=710&amp;originWidth=1221&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=43351&amp;status=done&amp;style=none&amp;taskId=u606e3ead-a17a-41ce-bd9c-801c4ea1259&amp;title=&amp;width=1221" alt=""></p>',11);function S(I,z){const i=n("ExternalLinkIcon");return d(),m("div",null,[c,h,l,g,s(" more "),f,a("p",null,[e("查看 bucket 外网地址："),a("a",u,[e("my-bucket.oss-cn-shenzhen.aliyuncs.com"),t(i)]),b,y]),a("p",null,[e("则去域名解析供应商设置："),_,a("a",w,[e("static.domain.com"),t(i)]),e("(自定义域名） -> CNAME -> "),a("a",k,[e("my-bucket.oss-cn-shenzhen.aliyuncs.com"),t(i)])]),T,v,a("p",null,[e("如果没有证书，查看教程获取："),a("a",H,[e("🔒免费开启HTTPS"),t(i)])]),x])}const O=o(p,[["render",S],["__file","common-solutions-of-object-storage-for-static-assets.html.vue"]]);export{O as default};
